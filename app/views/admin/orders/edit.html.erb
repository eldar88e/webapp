<% content_for :title, "Редактирование заказа" %>

<div class="px-4 pt-6">
  <h1 class="text-3xl font-extrabold dark:text-white mb-10">Редактирование заказа</h1>

  <%= render "form" %>

  <%= button_to admin_order_path, method: :delete, class: 'px-4 py-2 bg-red-500 text-white font-semibold rounded',
                data: { confirm: 'Вы уверены, что хотите удалить данный заказ?',
                        controller: 'confirm', action: 'click->confirm#call' } do %>
    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
    </svg>
  <% end %>

  <h2 class="text-2xl font-bold dark:text-white mt-6">Состав заказа:</h2>
  <% @order.order_items.includes(product: :image_attachment).each do |order_item| %>
    <%= render partial: '/admin/orders/order_item', locals: { order_item: order_item } %>
  <% end %>

  <div class="py-4 px-6">
    <%= link_to "Назад к заказам", admin_orders_path, class: "px-4 py-2 bg-blue-500 text-white font-semibold rounded" %>
  </div>
</div>
